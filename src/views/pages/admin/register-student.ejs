<%- include('../../partials/header', { title: 'Register New Student' }) %>
<%- include('../../partials/navbar') %> <% /* Assuming admin navbar might be different or conditional later */ %>
<%# Or use a specific admin partial: include('../../partials/admin-header') %>

<main class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-7">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/admin/dashboard">Admin Dashboard</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Register New Student</li>
                </ol>
            </nav>
            <div class="card shadow-sm">
                <div class="card-header">
                    <h2 class="h5 mb-0">Register New Student</h2>
                </div>
                <div class="card-body">
                    <p>Fill out the form below to register a new student. They will be assigned a unique registration number and a default password.</p>

                    <%- include('../../partials/flash-messages') %>

                    <form action="/admin/register-student" method="POST">
                <div class="mb-3">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" class="form-control" id="firstName" name="firstName" required value="<%= locals.firstName || '' %>">
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="email" name="email" required value="<%= locals.email || '' %>">
                    <div class="form-text">The student will use this email for communication and password recovery.</div>
                </div>

                <p class="text-muted small">
                    A unique Registration Number will be automatically generated.
                    The student will be assigned the default password: <strong><%= process.env.DEFAULT_STUDENT_PASSWORD %></strong>.
                    They will be required to change this password upon their first login.
                </p>

                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <a href="/admin/dashboard" class="btn btn-secondary me-md-2">Cancel</a>
                    <button type="submit" class="btn btn-primary">Register Student</button>
                </div>
            </form>
                </div> <%# card-body %>
            </div> <%# card %>
        </div>
    </div>
</main>

<%- include('../../partials/footer') %>
